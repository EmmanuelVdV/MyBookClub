<!--
  Generated template for the Review page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Review</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-list no-lines>
    <form [formGroup]="reviewForm" class="review-form">
      <ion-item>
        <ion-label floating>Book title</ion-label>
        <ion-input [(ngModel)]="review.bookTitle" formControlName="bookTitle" type="text" [class.invalid]="!reviewForm.controls.bookTitle.valid && (reviewForm.controls.bookTitle.dirty || submitAttempt)"></ion-input>
      </ion-item>
      <ion-item *ngIf="!reviewForm.controls.bookTitle.valid && (reviewForm.controls.bookTitle.dirty || submitAttempt)">
        <p>Required field - max 256 characters</p>
      </ion-item>
      <ion-item>
        <ion-label floating>Book author</ion-label>
        <ion-input [(ngModel)]="review.bookAuthor" formControlName="bookAuthor" type="text" [class.invalid]="!reviewForm.controls.bookAuthor.valid && (reviewForm.controls.bookAuthor.dirty || submitAttempt)"></ion-input>
      </ion-item>
      <ion-item *ngIf="!reviewForm.controls.bookAuthor.valid && (reviewForm.controls.bookAuthor.dirty || submitAttempt)">
        <p>Required field - max 256 characters</p>
      </ion-item>
      <ion-item>
        <ion-label floating>Description</ion-label>
        <ion-textarea [(ngModel)]="review.bookDescription" maxlength="256" formControlName="bookDescription" type="text"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label floating>Comment</ion-label>
        <ion-textarea [(ngModel)]="review.reviewComment" maxlength="256" formControlName="reviewComment" type="text"></ion-textarea>
      </ion-item>
      <ion-item>
        <ion-label floating>Date</ion-label>
        <ion-datetime displayFormat="MMMM YYYY" min="2000" pickerFormat="MMMM YYYY" [(ngModel)]="review.reviewDate" formControlName="reviewDate"></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-range min="0" max="5" pin="true" [(ngModel)]="review.reviewRating" formControlName="reviewRating">
          <ion-icon range-left name="md-star-outline"></ion-icon>
          <ion-icon range-right name="md-star"></ion-icon>
        </ion-range>
      </ion-item>
    </form>
  </ion-list>
  <ion-grid>
    <ion-row>
      <ion-col>
        <button ion-button block (click)="save()" class="save-button">Save</button>
      </ion-col>
      <ion-col>
        <button ion-button block (click)="cancel()" class="cancel-button">Cancel</button>
      </ion-col>
    </ion-row>
    <ion-row>
      <button ion-button block color="danger" (click)="remove()" class="remove-button" [hidden]="isRemoveHidden">Remove</button>
    </ion-row>
  </ion-grid>
</ion-content>
